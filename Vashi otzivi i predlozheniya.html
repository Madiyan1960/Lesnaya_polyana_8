<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Отзывы</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .review { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 5px; background: #f9f9f9; }
    .review-date { font-size: 0.9em; color: #777; }
    .review-name { font-weight: bold; margin-bottom: 5px; }
  </style>
</head>
<body>

<h2>Отзывы посетителей</h2>
<div id="reviews">Загрузка отзывов...</div>

<script>
  const sheetID = '1QFhIqMDPoO6AZ7ePFzs4AHO5k6iKXA72-pJmUHcrCnk'; // ← Вставьте сюда ID
  const sheetName = 'Ответы на форму (1)'; // ← Укажите имя листа, если нужно
  const url = `https://docs.google.com/spreadsheets/d/${sheetID}/gviz/tq?tqx=out:json&sheet=${sheetName}`;

  fetch(url)
    .then(res => res.text())
    .then(data => {
      const json = JSON.parse(data.substr(47).slice(0, -2));
      const rows = json.table.rows;
      const container = document.getElementById("reviews");
      container.innerHTML = "";

      rows.forEach(row => {
        const date = row.c[0]?.v || '';
        const name = row.c[1]?.v || '';
        const feedback = row.c[2]?.v || '';

        const div = document.createElement("div");
        div.className = "review";
        div.innerHTML = `
          <div class="review-date">${date}</div>
          <div class="review-name">${name}</div>
          <div class="review-text">${feedback}</div>
        `;
        container.appendChild(div);
      });
    })
    .catch(err => {
      document.getElementById("reviews").textContent = "Ошибка загрузки отзывов.";
      console.error(err);
    });
</script>

</body>
</html>
